<p id="notice"><%= notice %></p>

<div class="zentai">
 <div class="yotei">
   <table>
    <thead>
     <tr>
      <th>タイトル</th>
      <th>時間</th>
      <th>予定</th>

      <th colspan="3"></th>
     </tr>
    </thead>

    <tbody>
     <% @blogs.each do |blog| %>
      <tr>
        <td><%= blog.title %></td>
        <td><%= blog.start_time.strftime("%Y-%m-%d %H:%M") %></td>
        <td><%= blog.content %></td>
        <td><%= link_to '詳細', blog %></td>
        <td><%= link_to '編集', edit_blog_path(blog.id) %></td>
        <td><%= link_to '削除', blog_path(blog.id), method: :delete, data: { turbo_method: :delete, turbo_confirm: '本当に削除しますか？'}, class: "btn btn-danger" %></td>
      </tr>
     <% end %>
    </tbody>
   </table>
 </div>

 <div class="calendar">
  <%= month_calendar events: @blogs do |date, blogs| %>
    <%= link_to date.day, daily_blogs_path(date: date) %>
    <% blog_count = blogs.count %>
    <% dairy_count = @dairy.where(date: date).count %>
    <div style="font-size: 12px; color: gray;">
     <% if blog_count > 0 %>
      予定: <%= blog_count %>件<br> 
     <% end %>
     <% if dairy_count > 0 %>
      日記: <%= dairy_count %>件
     <% end %>
    </div>
  <% end %>
 </div>

  <div class="nikki">  
   <table>
    <thead>
      <tr>
        <th>タイトル</th>
        <th>時間</th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody>
      <% @dairy.each do |dairy| %>
        <tr>
          <td><%= dairy.title %></td>
          <td><%= dairy.date %></td>
          <td><%= link_to '詳細', dairy_path(dairy) %></td>
          <td><%= link_to '編集', edit_dairy_path(dairy) %></td>
          <td><%= link_to '削除', dairy_path(dairy), method: :delete, data: { turbo_method: :delete, turbo_confirm: '本当に削除しますか？'}, class: "btn btn-danger" %></td>
        </tr>
      <% end %>
    </tbody>
   </table>
  </div>
</div>




